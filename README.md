<p align="center">
  <h1 align="center">📚 Pahana Edu Online Billing</h1>
  <h3 align="center">BUILT USING MVC & 3-TIER ARCHITECTURE, DEPLOYED ON AWS</h3>
</p>

<p align="center">
  <img src="https://img.shields.io/badge/Bootstrap-7952B3?style=for-the-badge&logo=bootstrap&logoColor=white" width="120"/>&nbsp;&nbsp;&nbsp;
  <img src="https://img.shields.io/badge/JSP/Servlet-1B6AC6?style=for-the-badge&logo=apachetomcat&logoColor=white" width="130"/>&nbsp;&nbsp;&nbsp;
  <img src="https://img.shields.io/badge/MongoDB-47A248?style=for-the-badge&logo=mongodb&logoColor=white" width="105"/>&nbsp;&nbsp;&nbsp;
</p>

---

## ☁️ Live Demo on AWS Elastic Beanstalk

> ##### 🔗 **Try the Pahana Edu Online Billing Web App:** [http://pahanaedu-paishanmadusha.eu-north-1.elasticbeanstalk.com/](http://pahanaedu-paishanmadusha.eu-north-1.elasticbeanstalk.com/)

#### 🧪 Demo User Credentials:

| Role           | Email               | Password   | Mobile No   |
|----------------|---------------------|------------|-------------|
| Default Admin  | admin@pahana.com    | admin123   | 0700000000  |
| Default Staff  | staff@pahana.com    | staff123   | 0770000000  |

> ##### ⚠️ Please do not change these demo credentials in the live environment.

---

**Pahana Edu** is a Java-based web application developed as an academic project for a leading bookshop in Colombo, Sri Lanka. The system streamlines operations such as customer management, inventory handling, billing, reporting, and user access control. It supports **Admin** and **Staff** user roles, integrates with **MongoDB**, and features a clean, responsive UI built with **Bootstrap**. The application runs on **Apache Tomcat 9** and is deployed using AWS Elastic Beanstalk.

## 📑 Table of Contents

- [Features](#-features)
- [Technologies Used](#-technologies-used)
- [Project Architecture](#-project-architecture)
- [Setup & Installation](#-setup--installation)
- [Deployment](#-deployment)
- [Screenshots](#-screenshots)
- [About This Project](#-about-this-project)
- [License](#-license)

---

## ✅ Features

### 🔐 Authentication & User Roles:
- **Admin and Staff Login** with role-based access control.
- **Forgot Password** feature allows users to reset their password via a registered mobile number.

### 👨‍💼 Admin Features:
- **Manage Users**: Add, view, update & delete Admin/Staff accounts.
- **Manage Items**: Maintain inventory of books and stationery.
- **View Bills**: Access, print, or delete bills generated by staff.
- **Reports**: Staff-wise bill counts, revenue reports, and date filters.
- **Audit Logs**: Tracks admin and staff login/logout activities.
- **Admin Help Guide**: Instructions for using the admin panel.

### 👨‍🏫 Staff Features:
- **Add Customer**: Register new customers with auto-generated account numbers.
- **Manage Customers**: View, edit, delete customer accounts.
- **View Items**: Search and filter available books and stationery.
- **Generate Bill**: Create bills with selected customer and items.
- **Billing History**: View, print, or delete previous bills.
- **Staff Help Guide**: Instructions and usage tips for the staff panel.

### 🔧 Technical Features:
- **MongoDB Connection**: Automatically switches between local and production database URIs using environment variables.

---

## 🛠 Technologies Used
The following technologies are used in this project:

| **Layer**         | **Technologies**                                                                                        |
|-------------------|---------------------------------------------------------------------------------------------------------|
| **Development**   | IntelliJ IDEA (Ultimate Edition).                                                                       |
| **Frontend**      | HTML5, CSS3, JavaScript, Bootstrap 5, JSTL for JSP.                                                     |
| **Backend**       | Java Servlet & JSP, Maven (Build Tool), MongoDB (Localhost & Atlas), SLF4J Logging, JUnit 5 (Testing).  |
| **Runtime**       | Apache Tomcat 9.                                                                                        |
| **Deployment**    | AWS Elastic Beanstalk (WAR File Upload), GitHub Actions (CI/CD via Deploy Branch).                      |

---

## 🏗 Project Architecture
The project follows professional Object-Oriented Design principles using both **MVC** and **3-Tier Architecture**. Below is a brief overview of the applied concepts:

#### 🔐 Encapsulation:
> ##### `Model` classes (e.g., `User`, `Customer`, `Bill`, etc.) encapsulate data using private fields with public getters and setters.

#### 🔁 Inheritance & Polymorphism:
> ##### `Admin` and `Staff` classes extend the abstract `User` class, each overriding methods like `getRole()` to implement role-specific behavior.

#### 🧩 Abstraction:
> ##### The `User` class is abstract, defining a shared structure for all user types & Interfaces (e.g., `BillRepository`, etc.) abstract core operations like billing, providing a clear contract for implementations.

#### 🏭 Factory Pattern:
> ##### The method `createUserFromDocument()` acts as a factory, dynamically returning an instance of `Admin` or `Staff` based on the `role` field from MongoDB documents.

#### 🧵 Singleton Pattern:
> ##### The `MongoDBConnection` class implements the Singleton Pattern to ensure a single, reusable database connection instance throughout the application.

#### 🧠 Session Management:
> ##### `HttpSession` is used for maintaining user session data securely across authenticated pages.

```
pahana-edu-web-app/
│
├── src/
│   ├── main/
│   |    ├── java/
│   |    │   └── com.example.pahanaeduwebapp/
│   |    │       ├── dao/             # Data Access Objects for database interactions
│   |    │       ├── model/           # Representing data models
│   |    │       ├── repository/      # Interfaces to abstract data logic
│   |    │       ├── servlet/         # Java Servlets handling HTTP requests/responses
│   |    │       └── util/            # Utility classes (e.g., MongoDBConnection)
│   |    │
│   |    ├── resources/             
│   |    │
│   |    └── webapp/                  # Web content root (JSPs, static files, and web directories)
│   |        ├── admin/               # Admin-specific pages
│   |        ├── assets/              # Bootstrap, CSS, JS, images, and other static assets
│   |        ├── components/          # Reusable frontend components
│   |        ├── staff/               # Staff-specific pages
│   |        ├── WEB-INF/          
│   |        ├── forgot-password.jsp  # Forgot Password page
│   |        ├── index.jsp            # Landing page
│   |        ├── login.jsp            # Login page
│   |        └── reset-password.jsp   # Reset-password page
|   └── test/
|        └── java/
|            └── com.example.pahanaeduwebapp/
|                ├── dao/              # DAO unit tests
|                └── model/            # Model validation tests
├── .gitignore
├── LICENSE
├── pom.xml
└── README.md
```

---

## ⚙️ Setup & Installation

Follow these steps to run the project locally:

> 🛠 **Development Environment:**, IDE: IntelliJ IDEA (Ultimate Edition), Runtime Server: Apache Tomcat 9, Database: MongoDB (Localhost or Atlas)

### 1. **Clone the Repository**

##### * You can either use IntelliJ IDEA's welcome screen to clone the project or use the terminal:

```bash
git clone https://github.com/PAIshanMadusha/pahana-edu-web-app.git
cd pahana-edu-web-app
```

##### * IntelliJ IDEA will automatically detect the project structure and download all Maven dependencies upon opening the project.

---

### 2. **Configure MongoDB**
##### * Install [MongoDB Compass](https://www.mongodb.com/try/download/compass) **or** create a cluster on [MongoDB Atlas](https://www.mongodb.com/cloud/atlas).
##### * Get the MongoDB connection URI.
##### * Set the environment variable `MONGODB_URI` inside IntelliJ IDEA:
##### * Go to **Run > Edit Configurations > Startup/Connection > Environment Variables & Add: `MONGODB_URI=<your_connection_string>`

### 3. **Run with Tomcat Server**

##### * After dependencies are loaded and MongoDB is connected, run the project with **Apache Tomcat 9**.
##### * Once the configuration is complete, attempt to log in. You should see:

```
Artifact is deployed successfully
MongoDB Connected Successfully to database: pahana_edu
Default admin created: admin@pahana.com / admin123
```
##### * Use the default credentials to log in.

---

## ☁️ Deployment

### Generate a deployable WAR file using the following command:

```bash
mvn clean package
```

##### * Use this file to deploy the app on:
##### * **Local Apache Tomcat Server**, or **AWS Elastic Beanstalk (Java Environment)**

> Don't forget to set the `MONGODB_URI` environment variable in the hosting platform.

---

## 🖼 Screenshots
Some screenshots of the system are shown below:

| Landing Page | Login Page |
|--------------|--------------|
| <p align="center"><img src="https://github.com/user-attachments/assets/eda68e7a-574a-4f33-a640-44ef04ba23d8" width="400"></p> | <p align="center"><img src="https://github.com/user-attachments/assets/0518fe95-3554-4701-9aa5-42faa99d9541" width="400"></p> |

| Admin Dashboard | Staff Dashboard |
|--------------|--------------|
| <p align="center"><img src="https://github.com/user-attachments/assets/971f3cc0-bcb9-4fbc-8035-e379e1d042e8" width="400"></p> | <p align="center"><img src="https://github.com/user-attachments/assets/8be64a63-6605-4846-805c-7e3c5b280df4" width="400"></p> |

| Manage Items | View Reports |
|--------------|--------------|
| <p align="center"><img src="https://github.com/user-attachments/assets/f6a6cee3-231b-4a0b-b9e7-dbd2dbb3fa9a" width="400"></p> | <p align="center"><img src="https://github.com/user-attachments/assets/7e3d62b8-3c76-4270-ad0e-9c8ede40949b" width="400"></p> |

| View Items | Generate Bills |
|--------------|--------------|
| <p align="center"><img src="https://github.com/user-attachments/assets/04074c05-fa11-4293-a0b4-94007f18d7c7" width="400"></p> | <p align="center"><img src="https://github.com/user-attachments/assets/8a0f1aa1-5d52-4fa4-9f70-88cf85d034aa" width="400"></p> |

---

## 📘 About This Project

This project was developed as part of an assignment for **Cardiff Metropolitan University**. It is a full-stack web application designed to manage core operations of a bookshop, including user management, item inventory, customer billing, and reporting. The system follows Object-Oriented Programming (OOP) principles and integrates modern development tools and technologies for a professional, scalable, and user-friendly experience.

### 👨‍💻 Created by: 
**Ishan Madhusha**  
GitHub: [PAIshanMadusha](https://github.com/PAIshanMadusha)

Feel free to explore my work and get in touch if you'd like to collaborate! 🚀

---

## 📜 License
This project is licensed under the MIT License : See the [LICENSE](LICENSE) file for details.
