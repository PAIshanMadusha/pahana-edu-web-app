<p align="center">
  <h1 align="center">
    <img src="https://github.com/user-attachments/assets/c6a5893d-6e05-404f-a6bb-2b96376283fa" width="26" alt="App Icon" style="vertical-align:middle;" />
    Pahana Edu Online Billing
  </h1>
  <h3 align="center">BUILT USING MVC & 3-TIER ARCHITECTURE, DEPLOYED ON AWS</h3>
</p>

<p align="center">
  <img src="https://img.shields.io/badge/Bootstrap-7952B3?style=for-the-badge&logo=bootstrap&logoColor=white" width="120"/>&nbsp;&nbsp;&nbsp;
  <img src="https://img.shields.io/badge/JSP/Servlet-1B6AC6?style=for-the-badge&logo=apachetomcat&logoColor=white" width="130"/>&nbsp;&nbsp;&nbsp;
  <img src="https://img.shields.io/badge/MongoDB-47A248?style=for-the-badge&logo=mongodb&logoColor=white" width="105"/>&nbsp;&nbsp;&nbsp;
</p>

---

## ‚òÅÔ∏è Live Demo on AWS Elastic Beanstalk

> ##### üîó **Try the Pahana Edu Online Billing Web App:** [http://pahanaedu-paishanmadusha.eu-north-1.elasticbeanstalk.com/](http://pahanaedu-paishanmadusha.eu-north-1.elasticbeanstalk.com/)

#### üß™ Demo User Credentials:

| Role           | Email               | Password   | Mobile No   |
|----------------|---------------------|------------|-------------|
| Default Admin  | admin@pahana.com    | admin123   | 0700000000  |
| Default Staff  | staff@pahana.com    | staff123   | 0770000000  |

> ##### ‚ö†Ô∏è Please do not change these demo credentials in the live environment.

---

**Pahana Edu** is a Java-based web application developed as an academic project for a leading bookshop in Colombo, Sri Lanka. The system streamlines operations such as customer management, inventory handling, customer billing, reporting, and user access control. It supports **Admin** and **Staff** user roles, integrates with **MongoDB**, and features a clean, responsive UI built with **Bootstrap**. The application runs on **Apache Tomcat 9** and is deployed using AWS Elastic Beanstalk.

## üìë Table of Contents

- [Features](#-features)
- [Technologies Used](#-technologies-used)
- [Project Architecture](#-project-architecture)
- [Setup & Installation](#-setup--installation)
- [Deployment](#-deployment)
- [Screenshots](#-screenshots)
- [About This Project](#-about-this-project)
- [License](#-license)

---

## ‚úÖ Features

### üîê Authentication & User Roles:
- **Admin and Staff Login** with role-based access control.
- **Forgot Password** feature allows users to reset their password via a registered mobile number.

### üë®‚Äçüíº Admin Features:
- **Manage Users**: Add, view, update & delete Admin/Staff accounts.
- **Manage Items**: Maintain inventory of books and stationery.
- **View Bills**: Access, print, or delete bills generated by staff.
- **Reports**: Staff-wise bill counts, revenue reports, and date filters.
- **Audit Logs**: Tracks admin and staff login/logout activities.
- **Admin Help Guide**: Instructions for using the admin panel.

### üë®‚Äçüè´ Staff Features:
- **Add Customer**: Register new customers with auto-generated account numbers.
- **Manage Customers**: View, edit, delete customer accounts.
- **View Items**: Search and filter available books and stationery.
- **Generate Bill**: Create bills with selected customer and items.
- **Billing History**: View, print, or delete previous bills.
- **Staff Help Guide**: Instructions and usage tips for the staff panel.

### üîß Technical Features:
- **MongoDB Connection**: Automatically switches between local and production database URIs using environment variables.

---

## üõ† Technologies Used
The following technologies are used in this project:

| **Layer**         | **Technologies**                                                                                        |
|-------------------|---------------------------------------------------------------------------------------------------------|
| **Development**   | IntelliJ IDEA (Ultimate Edition).                                                                       |
| **Frontend**      | HTML5, CSS3, JavaScript, Bootstrap 5, JSTL for JSP.                                                     |
| **Backend**       | Java Servlet & JSP, Maven (Build Tool), MongoDB (Localhost & Atlas), SLF4J Logging, JUnit 5 (Testing).  |
| **Runtime**       | Apache Tomcat 9.                                                                                        |
| **Deployment**    | AWS Elastic Beanstalk (WAR File Upload), GitHub Actions (CI/CD via Deploy Branch).                      |

---

## üèó Project Architecture
The project follows professional Object-Oriented Design principles using both **MVC** and **3-Tier Architecture**. Below is a brief overview of the applied concepts:

> #### üîê Encapsulation:
##### * `Model` classes (e.g., `User`, `Customer`, `Bill`, etc.) encapsulate data using private fields with public getters and setters.

> #### üîÅ Inheritance & Polymorphism:
##### * `Admin` and `Staff` classes extend the abstract `User` class, each overriding methods like `getRole()` to implement role-specific behavior.

> #### üß© Abstraction:
##### * The `User` class is abstract, defining a shared structure for all user types & Interfaces (e.g., `BillRepository`, etc.) abstract core operations like billing, providing a clear contract for implementations.

> #### üè≠ Factory Pattern:
##### * The method `createUserFromDocument()` acts as a factory, dynamically returning an instance of `Admin` or `Staff` based on the `role` field from MongoDB documents.

> #### üßµ Singleton Pattern:
##### * The `MongoDBConnection` class implements the Singleton Pattern to ensure a single, reusable database connection instance throughout the application.

> #### üß† Session Management:
##### * `HttpSession` is used for maintaining user session data securely across authenticated pages.

```
pahana-edu-web-app/
‚îÇ
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ main/
‚îÇ   |    ‚îú‚îÄ‚îÄ java/
‚îÇ   |    ‚îÇ   ‚îî‚îÄ‚îÄ com.example.pahanaeduwebapp/
‚îÇ   |    ‚îÇ       ‚îú‚îÄ‚îÄ dao/             # Data Access Objects for database interactions
‚îÇ   |    ‚îÇ       ‚îú‚îÄ‚îÄ model/           # Representing data models
‚îÇ   |    ‚îÇ       ‚îú‚îÄ‚îÄ repository/      # Interfaces to abstract data logic
‚îÇ   |    ‚îÇ       ‚îú‚îÄ‚îÄ servlet/         # Java Servlets handling HTTP requests/responses
‚îÇ   |    ‚îÇ       ‚îî‚îÄ‚îÄ util/            # Utility classes (e.g., MongoDBConnection)
‚îÇ   |    ‚îÇ
‚îÇ   |    ‚îú‚îÄ‚îÄ resources/             
‚îÇ   |    ‚îÇ
‚îÇ   |    ‚îî‚îÄ‚îÄ webapp/                  # Web content root (JSPs, static files, and web directories)
‚îÇ   |        ‚îú‚îÄ‚îÄ admin/               # Admin-specific pages
‚îÇ   |        ‚îú‚îÄ‚îÄ assets/              # Bootstrap, CSS, JS, images, and other static assets
‚îÇ   |        ‚îú‚îÄ‚îÄ components/          # Reusable frontend components
‚îÇ   |        ‚îú‚îÄ‚îÄ staff/               # Staff-specific pages
‚îÇ   |        ‚îú‚îÄ‚îÄ WEB-INF/          
‚îÇ   |        ‚îú‚îÄ‚îÄ forgot-password.jsp  # Forgot Password page
‚îÇ   |        ‚îú‚îÄ‚îÄ index.jsp            # Landing page
‚îÇ   |        ‚îú‚îÄ‚îÄ login.jsp            # Login page
‚îÇ   |        ‚îî‚îÄ‚îÄ reset-password.jsp   # Reset-password page
|   ‚îî‚îÄ‚îÄ test/
|        ‚îî‚îÄ‚îÄ java/
|            ‚îî‚îÄ‚îÄ com.example.pahanaeduwebapp/
|                ‚îú‚îÄ‚îÄ dao/             # DAO unit tests
|                ‚îî‚îÄ‚îÄ model/           # Model validation tests
‚îú‚îÄ‚îÄ .gitignore
‚îú‚îÄ‚îÄ LICENSE
‚îú‚îÄ‚îÄ pom.xml
‚îî‚îÄ‚îÄ README.md
```

---

## ‚öô Setup & Installation

Follow these steps to run the project locally:

> üõ† **Development Environment:**, IDE: IntelliJ IDEA (Ultimate Edition), Runtime Server: Apache Tomcat 9, Database: MongoDB (Localhost or Atlas)

### 1. **Clone the Repository**

##### * You can either use IntelliJ IDEA's welcome screen to clone the project or use the terminal:

```bash
git clone https://github.com/PAIshanMadusha/pahana-edu-web-app.git
cd pahana-edu-web-app
```

##### * IntelliJ IDEA will automatically detect the project structure and download all Maven dependencies upon opening the project.

---

### 2. **Configure MongoDB**
##### * Install [MongoDB Compass](https://www.mongodb.com/try/download/compass) **or** create a cluster on [MongoDB Atlas](https://www.mongodb.com/cloud/atlas).
##### * Get the MongoDB connection URI.
##### * Set the environment variable `MONGODB_URI` inside IntelliJ IDEA:
##### * Go to **Run > Edit Configurations > Startup/Connection > Environment Variables & Add: `MONGODB_URI=<your_connection_string>`

### 3. **Run with Tomcat Server**

##### * After dependencies are loaded and MongoDB is connected, run the project with **Apache Tomcat 9**.
##### * Once the configuration is complete, attempt to log in. You should see:

```bash
Artifact is deployed successfully
MongoDB Connected Successfully to database: pahana_edu
Default admin created: admin@pahana.com / admin123
```

##### * Use the default credentials to log in.

---

## ‚òÅ Deployment

### Generate a deployable WAR file using the following command:

```bash
mvn clean package
```

##### * Use this file to deploy the app on:
##### * **Local Apache Tomcat Server**, or **AWS Elastic Beanstalk (Java Environment).**
##### * Don't forget to set the `MONGODB_URI` environment variable in the hosting platform.

---

## üñº Screenshots
Some screenshots of the system are shown below:

| Landing Page | Login Page |
|--------------|--------------|
| <p align="center"><img src="https://github.com/user-attachments/assets/eda68e7a-574a-4f33-a640-44ef04ba23d8" width="400"></p> | <p align="center"><img src="https://github.com/user-attachments/assets/0518fe95-3554-4701-9aa5-42faa99d9541" width="400"></p> |

| Admin Dashboard | Staff Dashboard |
|--------------|--------------|
| <p align="center"><img src="https://github.com/user-attachments/assets/971f3cc0-bcb9-4fbc-8035-e379e1d042e8" width="400"></p> | <p align="center"><img src="https://github.com/user-attachments/assets/8be64a63-6605-4846-805c-7e3c5b280df4" width="400"></p> |

| Manage Items | View Reports |
|--------------|--------------|
| <p align="center"><img src="https://github.com/user-attachments/assets/f6a6cee3-231b-4a0b-b9e7-dbd2dbb3fa9a" width="400"></p> | <p align="center"><img src="https://github.com/user-attachments/assets/7e3d62b8-3c76-4270-ad0e-9c8ede40949b" width="400"></p> |

| View Items | Generate Bills |
|--------------|--------------|
| <p align="center"><img src="https://github.com/user-attachments/assets/04074c05-fa11-4293-a0b4-94007f18d7c7" width="400"></p> | <p align="center"><img src="https://github.com/user-attachments/assets/8a0f1aa1-5d52-4fa4-9f70-88cf85d034aa" width="400"></p> |

| Help Guide | Bill Details |
|--------------|--------------|
| <p align="center"><img src="https://github.com/user-attachments/assets/dbb333a4-10eb-4419-9d11-7feb232ec067" width="400"></p> | <p align="center"><img src="https://github.com/user-attachments/assets/036239f7-aeb9-4449-b75a-61714f693c00" width="400"></p> |

---

## üìò About This Project

This project was developed as part of an assignment for **Cardiff Metropolitan University**. It is a full-stack web application designed to manage core operations of a bookshop, including user management, item inventory, customer billing, and reporting. The system follows Object-Oriented Programming (OOP) principles and integrates modern development tools and technologies.

### üë®‚Äçüíª Created by: 
**Ishan Madhusha**  
GitHub: [PAIshanMadusha](https://github.com/PAIshanMadusha)

Feel free to explore my work and get in touch if you'd like to collaborate! üöÄ

---

## üìú License
This project is licensed under the MIT License : See the [LICENSE](LICENSE) file for details.
